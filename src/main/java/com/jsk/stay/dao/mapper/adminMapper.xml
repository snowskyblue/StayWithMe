<?xml version="1.0" encoding="UTF-8"?>
<!-- DOCTYPE엘리먼트 -->
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="admin">
	<select id="acmArticle" resultType="com.jsk.stay.dto.AccommodationDto" parameterType="com.jsk.stay.dto.Criteria">
		select	acm_code,
				acm_title,
				acm_address,
				acm_add_detail,
				acm_type,
				mb_id
		from	(
				select	acm_code,
						acm_title,
						acm_address,
						acm_add_detail,
						acm_type,
						mb_id,
						row_Number() over(order by acm_code desc) as rNum
				from accommodation
				) mp
		where rNum between #{rowStart} and #{rowEnd}
		order by acm_code desc
	</select>
	
	<select id="acmCount" resultType="int">
		select count(acm_code)
		from accommodation
	</select>
</mapper>