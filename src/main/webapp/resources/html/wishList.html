<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>WishList</title>
<!--bootstrap -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<!--font-awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>

.main1 {
	margin-top: 100px;
}

#acmList-header {
	padding-top: 110px;
}

#wishContainer {
	padding-top: 150px;
}

.container-fluid h3 {
	margin-top: 20px;
}

.container-fluid h3, .container-fluid h4 {
	font-family: 'S-CoreDream-2ExtraLight';
	font-weight: bold;
}

#border {
	border: 3px solid #000000;
	margin-bottom: 30px;
	/*border-collapse: collapse;*/
}

.acmList {
	width: 60%;
    position: fixed;
    margin-left: 50%;
    top: 100px;
    right: 0;
    bottom: 0;
    overflow: auto;
    /*z-index: 1;
    top: 0;*/
}
.listForm {
	display : flex;
	align-items: center;
	width : 100%;
	height : 250px;
	border-bottom: 1px solid lightgrey;
	border-top: 1px solid lightgrey;
	border-collapse: collapse;
}

.listSection {
	position: fixed;
	/*margin : 0 auto;*/
	width : 85%;
	height : 85%;
}

.lsImgDiv {
	display: inline-block;
	float: right;
	width: 300px;
	height: 200px;
}

.lsImg {
	width: 300px;
	height: 200px;
	border-radius: 5px;
}

.lsConDiv {
	float: left;
	display: block;
	padding-left: 20px;
	width: 100%;
}
.lsConDivMobile {
	display: none;
}

@media screen and (max-width: 1000px) {
	#acmList-header {
		padding-top: 120px;
	}
	.acmList {
		margin-left: 0;
		position: relative;
		top: 0;
		width: 100%;
	}
}

@media screen and (max-width: 640px) {
.listForm {
		height: 410px;
		align-items: normal;
		padding-top: 10px;
		display: inline-block;
	}
	
	.lsImgDiv {
		width: 100%;
    	height: 300px;
	}
	.lsImg {
		width: 100%;
    	height: 300px;
	}
	
	.lsConDiv {
		display: none;
	}
	
	.lsConDivMobile {
		display: block;
	}
}

a{
	color: black!important;
}
</style>
</head>
<body>
<div ng-app="myWishList" ng-cloak ng-controller="myCtrl">
	<div ng-include="'../header'"></div>
	<div class="main">
		<div class="container-fluid" id="acmList-header">
			<div class="container" id="wishContainer">
				<div class="mx-auto">
					<section class="acmList">
						<div style="margin-top:40px; width: 90%;" class="mx-auto">
							<h3>위시리스트</h3>
							<div id="border"></div>
							<div ng-repeat ="x in products">
								<div class="section mx-auto d-flex flex-wrap align-content-center container-fluid">
									<div class="listForm">
										<div class="lsImgDiv">
											<img src="/stay/resources/upImg/{{x.acm_thumbnail}}" class="lsImg">
										</div>
										<div class="lsConDiv my-auto">
											<span id="address">{{x.acm_address}}</span>
											<h4 style="margin-top:10px; word-break: keep-all;" class="title" value="{{x.acm_title}}">{{x.acm_title}}</h4>
											<span>인원 {{x.acm_guest_num}}명 /</span>
											<span> 침실 {{x.acm_room_num}}개 /</span>
											<span> 화장실 {{x.acm_bath_num}}개</span>
											<h4 style="margin-top:10px; color:#ec6969;">
												{{x.acm_charge}}
												<span style="color:black; font-size:0.9rem;"> /1박</span>
											</h4>
										</div>
										<div style="height:100%;" class="float-right">
											<input type="hidden"/>
											<span class="heart" ng-click="removeItem($index)" style="font-size: 1.5em;"><!-- onclick="wish()"  -->
											  <i class="far fa-heart"></i>
											</span>
										</div>
										
										<br/>
										<div class="lsConDivMobile my-auto">
											<span id="address">{{x.acm_address}}</span>
											<h4 style="margin-top:10px; word-break: keep-all;">{{x.acm_title}}</h4>
											<h4 style="margin-top:10px; color:#ec6969;">
												{{x.acm_charge}}
												<span style="color:black; font-size:0.9rem;"> /1박</span>
											</h4>
										</div>
									</div>
								</div>
							
								
							</div>		
						</div>
					</section>
				</div>
			
			</div>
		</div>
	</div>
	<!-- <div ng-include="'../footer'"></div> -->
	
</div>


<!--jquery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!--popper -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<!--javascript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<!-- n g -->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

<!--<script>
jQuery.noConflict();//angular와 방지를 위함
jQuery(document).ready(function($){
	$(".menu-toggle").click(function() {
		$("nav").toggleClass("active");
		$(".main").toggleClass("main1");
	});
});

</script> -->

<script>
angular.element(".heart").css({"color": "red"});
var app = angular.module("myWishList", []);
app.controller("myCtrl", function($scope) {
    //$scope.products = ["Milk", "Bread", "Cheese"]; 
    $scope.products = JSON.parse(localStorage.getItem("cartKey"));	/*로컬스토리지를 객체로 하기*/
    //console.log($scope.products); //value(array)
    
    //상품 (행) 삭제
   $scope.removeItem = function (x) {
      $scope.products.splice(x, 1); //ng-click의index와 splice의 번호로 같이 삭제됨
      localStorage.removeItem("cartKey"); //x클릭하여 상품 행 한줄이 삭제되면 로컬스토리지 cartKey배열이 다 사라짐 
      localStorage.setItem("cartKey",JSON.stringify($scope.products));//로컬스토리에 새로 저장.(value값은 이제 다시 문자열로 products 배열이 들어감)
     }
});
</script>
</body>
</html>